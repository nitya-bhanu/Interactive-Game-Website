<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="clue1.css" />
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  </head>
  <body>
    <h1>Clue 1</h1>
    <p class="heading_quesstion">
      Who sang 'Hotline Bling' <br />
      Select their correct insta user name
    </p>
    <a onclick="sendTime()" target="_blank">Champagnepapi</a>
    <a href="deadend1.html" target="_blank">Drakehere</a>
    <a href="#" target="_blank">Kanyewest</a>
    <a href="#" target="_blank">snoopdogg</a>
    <div id="time-frame">Time elapsed:0</div>
    <a href="clue1.html" target="_blank"
      ><p class="start-over">Start Over</p></a
    >
    <script>
      let timeset = 0;
      window.addEventListener("load", MyFunction());
      function MyFunction() {
        var timeUpdate = document.getElementById("time-frame");
        setInterval(() => {
          timeset++;
          timeUpdate.innerText = "Time elapsed: " + timeset;
        }, 100);
      }
      const urlSearchParams = new URLSearchParams(window.location.search);
      const params = Object.fromEntries(urlSearchParams.entries());
      const username = params.user;
      const url = "https://scaredaccomplishedapplications.nityabhanu.repl.co";
      function sendTime() {
        console.log(timeset,username);
        const user = {
          name: username,
          GeneralAwarenessScore: timeset,
        };
        axios
          .post(url + "/player/update", user)
          .then((response) => {
            console.log(response.data);
            window.open(
              "https://nitya-bhanu.github.io/elitmusFrontEnd/clue2.html?user=" +
                username,
              "_self"
            );
          })
          .catch((error) => console.error(error));
      }
    </script>
  </body>
</html>
